"use strict";function PopupCenter(e,t,o,r){var n=void 0!=window.screenLeft?window.screenLeft:screen.left,a=void 0!=window.screenTop?window.screenTop:screen.top,i=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-o/2+n,l=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-r/2+a,c=window.open(e,t,"scrollbars=yes, width="+o+", height="+r+", top="+l+", left="+i);window.focus&&c.focus()}function loadImage(){if(index>$(elements).length)return!1;var e=$(elements).get(index);$(e).attr("src",$(e).attr("data-src")),index++,setTimeout(function(){loadImage(index)},speed)}function validateDomain(e,t){if(current=0,total=0,porc=0,!e)return!1;$("body").addClass("modal-update"),$("#mainModal").modal({backdrop:"static",keyboard:!0}),$(".process-website").text(e),$("#monitor").addClass("hide"),$.post(base_url+"backend/validate",{url:e},function(e,o,r){e.process?(e.new?$("body").removeClass("modal-update"):$("body").addClass("modal-update"),$(".process-website").text(e.domain),t?start(e.domain,e.process):e.new?start(e.domain,e.process):($(document).trigger("scanCompleted"),noReload||(window.location.href=base_url+e.domain))):($(document).trigger("scanCompleted"),noReload||(e.redirect?swal({title:e.error,text:e.domain,type:"info",showCancelButton:!1,confirmButtonColor:"#3C8DBC",confirmButtonText:"OK",closeOnConfirm:!1},function(){window.location.href=e.redirect}):sweetAlert(e.error,e.domain,"error"),$("#mainModal").modal("hide"),$(".btn-update i").removeClass("fa-spin"),$(".btn-update i").removeAttr("disabled")))},"json").fail(function(e){$("#mainModal").modal("hide"),sweetAlert({title:"Error",text:e.responseText,html:!0,type:"error"})})}function start(e,t){if(errors>=5)return sweetAlert("Error","Error","error"),!1;$(".process-value").val("5"),total=t.length,$(".modal-title").addClass("animated fadeIn"),$(".process-msg").text(t[current].title),$(".process-desc").text(t[current].description),$.post(base_url+"backend/process",{domain:e,action:t[current].action},function(o,r,n){if($(".modal-title").removeClass("animated fadeIn"),o.error&&!noReload)sweetAlert({title:"Error",text:o.error,html:!0,type:"error"});else{if(noReload&&o.error)return console.warn("Error: ["+e+"] "+o.error),$(document).trigger("scanCompleted"),!1;errors=0,current++,porc=parseInt(100*(current+1)/total),$(".process-value").val(porc),next(e,t)}},"json").fail(function(o){setTimeout(function(){next(e,t),errors++},2e3+1500*errors)})}function next(e,t){errors>=3&&(current++,errors=0),$(".modal-title").addClass("animated fadeIn"),$(".process-msg").text(t[current].title),$(".process-desc").text(t[current].description),$.post(base_url+"backend/process",{domain:e,action:t[current].action},function(o,r,n){porc=parseInt(100*(current+1)/total),current++,$(".modal-title").removeClass("animated fadeIn"),$(".process-value").val(porc),porc>=100?(noReload||($("#bookmarks-list").length?location.reload():window.location.href=base_url+e),$(document).trigger("scanCompleted")):setTimeout(function(){next(e,t)},1e3)},"json").fail(function(o){setTimeout(function(){next(e,t),errors++},3e3+1500*errors)})}!function(e){e.fn.circliful=function(t,o){var r=e.extend({foregroundColor:"#3498DB",backgroundColor:"#ccc",pointColor:"none",fillColor:"none",foregroundBorderWidth:15,backgroundBorderWidth:15,pointSize:28.5,fontColor:"#aaa",percent:75,animation:1,animationStep:5,icon:"none",iconSize:"30",iconColor:"#ccc",iconPosition:"top",target:0,start:0,showPercent:1,percentageTextSize:22,textAdditionalCss:"",targetPercent:0,targetTextSize:17,targetColor:"#2980B9",text:null,textStyle:null,textColor:"#666",multiPercentage:0,percentages:null,textBelow:!1,noPercentageSign:!1,replacePercentageByText:null,halfCircle:!1,animateInView:!1},t);return this.each(function(){function t(){var e=window.setInterval(function(){C>=P?(window.clearInterval(e),w=1,"function"==typeof o&&o.call(this)):(C+=y,b+=k),C/3.6>=d&&1==w&&(C=3.6*d),b>r.target&&1==w&&(b=r.target),null==r.replacePercentageByText&&(v=r.halfCircle?parseInt(100*C/360*2):parseInt(100*C/360)),g.attr("stroke-dasharray",C+", 20000"),1==r.showPercent?p.text(v+(r.noPercentageSign||r.replacePercentageByText,"")):p.text(b)}.bind(g),$)}function n(){var t=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?"body":"html",o=e(t).scrollTop(),r=o+e(window).height(),n=Math.round(g.offset().top),a=n+g.height();return n<r&&a>o}function a(){g.hasClass("start")||n(g)&&(g.addClass("start"),setTimeout(t,250))}var i,l,c,s=e(this),d=r.percent,u=83,f=100,h=100,m=100,x=r.backgroundBorderWidth;if(r.halfCircle?"left"==r.iconPosition?(f=80,u=100,m=117,h=100):r.halfCircle&&(u=80,h=100):"bottom"==r.iconPosition?(u=124,h=95):"left"==r.iconPosition?(f=80,u=110,m=117):"middle"==r.iconPosition?1==r.multiPercentage?"object"==typeof r.percentages?x=30:(u=110,l='<g stroke="'+("none"!=r.backgroundColor?r.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',l+='<g stroke="'+("none"!=r.backgroundColor?r.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',m=228,h=47):(u=110,l='<g stroke="'+("none"!=r.backgroundColor?r.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',l+='<g stroke="'+("none"!=r.backgroundColor?r.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',m=175,h=35):"right"==r.iconPosition&&(f=120,u=110,m=80),r.targetPercent>0&&(h=95,l='<g stroke="'+("none"!=r.backgroundColor?r.backgroundColor:"#ccc")+'" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>',l+='<text text-anchor="middle" x="'+m+'" y="120" style="font-size: '+r.targetTextSize+'px;" fill="'+r.targetColor+'">'+r.targetPercent+(r.noPercentageSign&&null==r.replacePercentageByText?"":"%")+"</text>",l+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+r.backgroundColor+'" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />',l+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+r.targetColor+'" stroke-width="3" stroke-dasharray="'+3.6*r.targetPercent+', 20000" transform="rotate(-90,100,100)" />'),null!=r.text&&(r.halfCircle?r.textBelow?l+='<text text-anchor="middle" x="100" y="120" style="'+r.textStyle+'" fill="'+r.textColor+'">'+r.text+"</text>":0==r.multiPercentage?l+='<text text-anchor="middle" x="100" y="115" style="'+r.textStyle+'" fill="'+r.textColor+'">'+r.text+"</text>":1==r.multiPercentage&&(l+='<text text-anchor="middle" x="228" y="65" style="'+r.textStyle+'" fill="'+r.textColor+'">'+r.text+"</text>"):r.textBelow?l+='<text text-anchor="middle" x="100" y="190" style="'+r.textStyle+'" fill="'+r.textColor+'">'+r.text+"</text>":0==r.multiPercentage?l+='<text text-anchor="middle" x="100" y="115" style="'+r.textStyle+'" fill="'+r.textColor+'">'+r.text+"</text>":1==r.multiPercentage&&(l+='<text text-anchor="middle" x="228" y="65" style="'+r.textStyle+'" fill="'+r.textColor+'">'+r.text+"</text>")),"none"!=r.icon&&(c='<text text-anchor="middle" x="'+f+'" y="'+u+'" class="icon" style="font-size: '+r.iconSize+'px" fill="'+r.iconColor+'">&#x'+r.icon+"</text>"),r.halfCircle){s.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+l+'<clipPath id="cut-off-bottom"> <rect x="100" y="0" width="100" height="200" /> </clipPath><circle cx="100" cy="100" r="57" class="border" fill="'+r.fillColor+'" stroke="'+r.backgroundColor+'" stroke-width="'+x+'" stroke-dasharray="360" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+r.foregroundColor+'" stroke-width="'+r.foregroundBorderWidth+'" stroke-dasharray="0,20000" transform="rotate(-180,100,100)" /><circle cx="100" cy="100" r="'+r.pointSize+'" fill="'+r.pointColor+'" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" />'+c+'<text class="timer" text-anchor="middle" x="'+m+'" y="'+h+'" style="font-size: '+r.percentageTextSize+"px; "+i+";"+r.textAdditionalCss+'" fill="'+r.fontColor+'">'+(null==r.replacePercentageByText?0:r.replacePercentageByText)+(r.noPercentageSign||null!=r.replacePercentageByText?"":"%")+"</text>"))}else s.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+l+'<circle cx="100" cy="100" r="57" class="border" fill="'+r.fillColor+'" stroke="'+r.backgroundColor+'" stroke-width="'+x+'" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+r.foregroundColor+'" stroke-width="'+r.foregroundBorderWidth+'" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="'+r.pointSize+'" fill="'+r.pointColor+'" />'+c+'<text class="timer" text-anchor="middle" x="'+m+'" y="'+h+'" style="font-size: '+r.percentageTextSize+"px; "+i+";"+r.textAdditionalCss+'" fill="'+r.fontColor+'">'+(null==r.replacePercentageByText?0:r.replacePercentageByText)+(r.noPercentageSign||null!=r.replacePercentageByText?"":"%")+"</text>"));var g=s.find(".circle"),p=s.find(".timer"),$=30,C=0,y=r.animationStep,w=0,b=0,k=0,v=d,P=3.6*d;r.halfCircle&&(P=3.6*d/2),null!=r.replacePercentageByText&&(v=r.replacePercentageByText),r.start>0&&r.target>0&&(d=r.start/(r.target/100),k=r.target/100),1==r.animation?r.animateInView?e(window).scroll(function(){a()}):t():(g.attr("stroke-dasharray",P+", 20000"),1==r.showPercent?p.text(v+(r.noPercentageSign,"")):p.text(r.target))})}}(jQuery);var errors=0,index=0,speed=100,elements=!1;$(function(){console.info("Ready!"),$.each($(".circle"),function(e,t){var o=$(this).attr("data-text"),r=$(this).attr("data-percent"),n=$(this).attr("data-color"),a=$(this).attr("data-fbw"),i=$(this).attr("data-bbw");i||(i=8),a||(a=8),$(this).circliful({animationStep:5,foregroundBorderWidth:a,backgroundBorderWidth:i,foregroundColor:n,backgroundColor:"#F3F3F3",percent:r,text:o})}),setTimeout(function(){$(".alert-autoclose").addClass("animated bounceOut").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).remove()})},8e3),$.ajaxSetup({data:csfrData,timeout:6e4}),$(".btn-toggle-class").on("click",function(e){e.preventDefault(),$($(this).attr("data-target")).toggleClass($(this).attr("data-class"))}),$(".btn-share").on("click",function(e){e.preventDefault(),PopupCenter($(this).attr("data-url"),"Share",600,400)}),$(".btn-start").on("click",function(e){e.preventDefault(),validateDomain($(".input-url[value!='']").val())}),$(".menu-toggle").on("click",function(e){e.preventDefault(),$(".shortcut").toggleClass("show"),$("body").toggleClass("menu")}),$(".shortcut ul li.hide strong").on("click",function(e){e.preventDefault(),$(this).parent().find("a").toggleClass("hide")}),$(".hide-menu").on("click touchstart",function(e){$(".shortcut").removeClass("show"),$("body").removeClass("menu")}),$(".shortcut-links a").on("click touchstart",function(e){var t=$(this).attr("data-go");$("html, body").animate({scrollTop:$(t).offset().top-170},500)}),$(".dataTable").length&&$(".dataTable").dataTable({rowReorder:{selector:"td:nth-child(2)"},responsive:!0}),$(".input-url[value!='']").length>0&&validateDomain($(".input-url[value!='']").val(),!0),$(document).on("click",".btn-update",function(e){e.preventDefault(),$("i",$(this)).addClass("fa-spin"),$(this).attr("disabled","disabled"),validateDomain($(this).attr("data-domain"),!0)}),$(".btn-bookmark").on("click",function(e){e.preventDefault();var t=$(this).attr("data-idsite"),o=$(this).attr("data-action");$.post(base_url+"backend/bookmark",{idsite:t,action:o},function(e,t,o){e.error?sweetAlert(e.title,e.error,"error"):location.reload()},"json")}),elements=$("img.lazy"),setTimeout(function(){loadImage()},speed),$.each($(".map"),function(e,t){var o=$(this).attr("data-country");jQuery(this).vectorMap({map:"world_en",backgroundColor:"#FFFFFF",borderColor:"#FFFFFF",borderOpacity:.25,borderWidth:1,color:"#D2D2D2",enableZoom:!1,hoverColor:"#000000",hoverOpacity:null,normalizeFunction:"linear",scaleColors:["#b6d6ff","#005ace"],selectedColor:"#3C8DBC",selectedRegions:[o],showTooltip:!0})}),$(".search-me").makeSearchList()});var current=0,total=0,porc=0;jQuery.fn.makeSearchList=function(){var e=$(".search-to"),t=$(this);$(e).change(function(){var e=$(this).val();return e?($(".search-item",$(t)).hide(),$(".search-item:Contains("+e+")",$(t)).show()):$(".search-item",$(t)).show(),!1}).keyup(function(){$(this).change()}),jQuery.expr[":"].Contains=jQuery.expr.createPseudo(function(e){return function(t){return jQuery(t).text().toUpperCase().indexOf(e.toUpperCase())>=0}})};